from bs4 import BeautifulSoupimport urllib2import sysimport jsonfrom pprint import pprint# From 42matters.comaccess_token_42m = 'xyz'def get_available_countries(package_name):	link_request = 'https://data.42matters.com/api/v2.0/android/apps/availability.json?'	link_request += 'p=' + package_name	link_request += '&access_token=' + access_token_42m	try:		response = urllib2.urlopen(link_request)		data = json.load(response)		#pprint (data) 		return data['results'][0]['available_in']	except urllib2.HTTPError as e:		print ("Error while getting the availability in various countries ", e.reason)		return Nonedef get_app_url(package_name):	prefix = "https://play.google.com/store/apps/details?id="	prefix += package_name + "&hl=en"	return prefixdef is_free_app(package_name):	try:		url = get_app_url(package_name)		html = urllib2.urlopen(url).read()		soup = BeautifulSoup(html, "html.parser")		button_line = soup.find_all(class_="price buy id-track-click id-track-impression")[0]		button_meta_data = button_line.get_text().strip()		if (button_meta_data == 'Install'):			return True		return False	except urllib2.URLError as e:		print ("Error in Connecting: ", e.reason)		if (e.reason == 'Not Found'):			print ("Please check the package name. If the package name is valid, then it can be a system app")			return None		elif (e.reason == 'Forbidden'):			countries = get_available_countries(package_name)			if (get_available_countries == None):				return None		return Noneif __name__ == '__main__':	if (len(sys.argv) != 2):		print ('Usage: Package name is needed as an argument')		sys.exit(1)	#print (get_available_countries('com.SecUpwN.AIMSICD'))	print ('Is Free? %s' % is_free_app(sys.argv[1]))	# wait for some time before making repeated request